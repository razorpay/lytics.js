(function () {var a={};function k(t){return t.split("-").map(function(t,e){return 0===e?t:t[0].toUpperCase()+t.slice(1,t.length)}).join("")}function e(t){for(var e=[],r=0;r<t.attributes.length;r++)e.push(t.attributes[r].nodeName);return e}function o(t){return e(t).filter(function(t){return"data-lytics-trigger"!==(t=t.toLowerCase())&&("data-lytics"===t||0===t.indexOf("data-lytics-"))})}function l(t){return"data-lytics"===t?"trigger":t=k(t.toLowerCase().replace("data-lytics-",""))}function d(t){var e={};return o(t).forEach(function(r){e[l(r)]=t.getAttribute(r)}),e}var c={};function f(t,e,r,a,n){var i=e.querySelectorAll("*[data-lytics=".concat(t,"]"));if(i&&0!==i.length){var c=function(e){if(!a||e.isTrusted)for(var i=e.target;i&&i!==e.currentTarget;)h(i,e,t,r,n),i=i.parentElement};return e.addEventListener(t,c,!0),function(){e.removeEventListner(t,c)}}}function i(t,e,r,a){var n=f("click",t,e,r,a),i=f("submit",t,e,r,a);return function(){n(),i()}}function j(){}function u(r,t,a,e,$){var c=d(r);if(0!==Object.getOwnPropertyNames(c).length){var k,b=r.nodeName.toLowerCase();"click"===a?"a"===b&&(k=g(p,r,t)):"submit"===a&&"form"===b&&(k=g(q,r,t)),k||(k=j),e(c,k=s(k,$))}}function h(r,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",e=arguments.length>3?arguments[3]:void 0,$=arguments.length>4?arguments[4]:void 0;if(r){var c=d(r);c.trigger&&c.trigger===a&&u(r,t,a,e,$)}}function m(t){return t.ctrlKey||t.metaKey||t.shiftKey}function n(t,e){if(!m(t))return t.preventDefault(),e}function g(t,e,a){var r=t.call(null,e,a);return r&&(r=n(a,r)),r}function p(t){var e=t.getAttribute("target");if(!e||"_self"===e)return function(){var e=t.getAttribute("href");e&&(window.location.href=e)}}function q(t){var e=t.getAttribute("target");if(!e||"_self"===e)return function(){t.submit()}}function s(t,e){var a=!1;return e>0&&setTimeout(function(){a=!0,t()},e),function(){a||(a=!0,t())}}c.initListeners=i;var v=function(e,t){t&&t(e)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parent,r=void 0===t?document.documentElement:t,i=e.tracker,$=void 0===i?v:i,o=e.ignoreSynthetic,n=void 0===o||o,u=e.timeout,a=void 0===u?300:u;if("string"==typeof r&&(r=document.querySelector(r)),r instanceof HTMLElement)return{off:c.initListeners(r,$,n,a)}}b.getAttribsFromEl=d,window&&(window.lytics=b),a.default=b;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a}else if(typeof define==="function"&&define.amd){define(function(){return a})}})();